<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toutes les Recettes - Tom's Kitchen</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Crimson+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header / Navigation -->
    <header class="header">
        <div class="container">
            <a href="index.html" class="logo">Tom's Kitchen</a>
            <nav class="nav">
                <a href="index.html" class="nav-link">Accueil</a>
                <a href="recettes.html" class="nav-link active">Recettes</a>
                <a href="recherche.html" class="nav-link">Recherche par Ingr√©dients</a>
            </nav>
        </div>
    </header>

    <main class="container">
        <!-- Titre de la page -->
        <h1 class="page-title text-center" style="margin-top: 3rem;">Toutes les recettes</h1>

        <!-- Barre de filtres -->
        <div class="filters">
            <div class="filters-grid">
                <div class="filter-group">
                    <label for="filter-category">Cat√©gorie</label>
                    <select id="filter-category">
                        <option value="">Toutes</option>
                        <option value="entr√©e">Entr√©e</option>
                        <option value="plat">Plat</option>
                        <option value="dessert">Dessert</option>
                        <option value="accompagnement">Accompagnement</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="filter-difficulty">Difficult√©</label>
                    <select id="filter-difficulty">
                        <option value="">Toutes</option>
                        <option value="facile">Facile</option>
                        <option value="moyen">Moyen</option>
                        <option value="difficile">Difficile</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="filter-time">Temps total</label>
                    <select id="filter-time">
                        <option value="">Tous</option>
                        <option value="30">< 30 min</option>
                        <option value="60">30-60 min</option>
                        <option value="60+">> 60 min</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="filter-search">Recherche</label>
                    <input type="text" id="filter-search" placeholder="Nom de la recette...">
                </div>
                <div class="filter-group filter-checkbox">
                    <label class="checkbox-label">
                        <input type="checkbox" id="filter-vegetarian">
                        <span>ü•¨ V√©g√©tarien uniquement</span>
                    </label>
                </div>
            </div>
        </div>

        <!-- Grille de recettes -->
        <div id="recipes-container" class="recipes-grid">
            <!-- Les recettes seront charg√©es ici par JavaScript -->
        </div>

        <!-- Message si aucun r√©sultat -->
        <div id="no-results" class="no-results" style="display: none;">
            <p>Aucune recette trouv√©e</p>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Tom's Kitchen</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        let toutesLesRecettes = [];

        // Charger les recettes au chargement de la page
        document.addEventListener('DOMContentLoaded', async () => {
            const data = await chargerRecettes();
            if (data) {
                toutesLesRecettes = data.recettes;
                afficherRecettes(toutesLesRecettes, 'recipes-container');
            }

            // √âv√©nements pour les filtres
            document.getElementById('filter-category').addEventListener('change', appliquerFiltres);
            document.getElementById('filter-difficulty').addEventListener('change', appliquerFiltres);
            document.getElementById('filter-time').addEventListener('change', appliquerFiltres);
            document.getElementById('filter-search').addEventListener('input', appliquerFiltres);
            document.getElementById('filter-vegetarian').addEventListener('change', appliquerFiltres);
        });

        // Fonction pour appliquer les filtres
        function appliquerFiltres() {
            const filtres = {
                categorie: document.getElementById('filter-category').value,
                difficulte: document.getElementById('filter-difficulty').value,
                temps: document.getElementById('filter-time').value,
                recherche: document.getElementById('filter-search').value,
                vegetarien: document.getElementById('filter-vegetarian').checked
            };

            const recettesFiltrees = filtrerRecettes(toutesLesRecettes, filtres);

            // Afficher les r√©sultats
            if (recettesFiltrees.length > 0) {
                afficherRecettes(recettesFiltrees, 'recipes-container');
                document.getElementById('no-results').style.display = 'none';
            } else {
                document.getElementById('recipes-container').innerHTML = '';
                document.getElementById('no-results').style.display = 'block';
            }
        }
    </script>
</body>
</html>
